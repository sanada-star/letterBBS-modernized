# LetterBBS (Modified Edition)

## 概要
**LetterBBS** は、KENT WEB様で公開されている「Patio」をベースに、PBC（Play by Chat）やPBW（Play by Web）などの「キャラクター交流」向けに大幅な改造を施したCGIスクリプトです。

## ⚠️ 配布・利用規定 (Distribution & License)
本プログラムは **KENT WEB** 様の「Patio」を改造したものです。
利用に際しては、以下のKENT WEB様の規定に従ってください。

- **プログラム利用規定**: [http://www.kent-web.com/pubc/kitei.html](http://www.kent-web.com/pubc/kitei.html)
- **再配布規定**: [https://www.kent-web.com/pubc/saihaifu.html](https://www.kent-web.com/pubc/saihaifu.html)

※本改造版は商用利用を目的としていません。
※著作権表示はコード内に保持されています。

---

## 主な機能 (v3.0)

### 1. 💌 往復書簡に特化したUI
- **1対1の会話が見やすい**: 相手との会話のみを抽出する「タイムライン表示」を搭載。
- **文通デスク機能**: 複数人への返信を溜めておき、一括で送信する機能を標準搭載。
- **スマホ完全対応**: 2025/2026年のWeb標準（Flexbox/Grid）でデザインを刷新。

### 2. 🔔 通知タスク機能 (v3.0 New!)
- **常駐型通知**: ブラウザを開いておくと、自分宛ての手紙を検知して通知します。
- **ToDoリスト化**: 未読の手紙は「タスク」として画面に残り続け、「完了」ボタンを押すまで消えません。返信忘れを強力に防止します。
- **オフライン永続化**: ブラウザを閉じても未読リストは維持されます。

### 3. 📦 メモリーボックス (ログ保存)
- **思い出をアルバムに**: ボタン一つで過去のログをHTML形式でダウンロード。
- **ローカル閲覧**: ダウンロードしたファイルは、ネットがない環境でもチャット風ビューアで閲覧可能です。

### 4. 🎨 テーマ切り替え
- **Pop / Chaos**: お洒落でビビッドなモダンデザイン。
- **Gloomy**: ダークで落ち着いた配色。管理画面から切り替え可能。
- **Simple**: ビジネスライクで読みやすい配色。

## 設置方法 (Installation)

1. **Perl環境の確認**: サーバーでPerlが動作することを確認してください。
2. **アップロード**: ファイル一式をアップロードします。
3. **パーミッション設定**:
   - `patio.cgi`: `705/755` (実行権限)
   - `admin.cgi`: `705/755` (実行権限)
   - `data/` (ディレクトリ): `707/777` (書き込み権限)
   - `data/*.log`: `606/666` (書き込み権限)

## 更新履歴
- **v3.0**: 通知タスク機能の実装、Stableリリース。
- **v2.0**: デザイン刷新、文通デスク機能実装。

---
Base Script: Patio v5.12 (c) KENT WEB
Modified by: Sanada (Advanced Agentic AI Team)
